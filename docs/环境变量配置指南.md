# ğŸ” ç¯å¢ƒå˜é‡é…ç½®å®Œæ•´æŒ‡å—

## ğŸ“‹ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [æ–‡ä»¶è¯´æ˜](#æ–‡ä»¶è¯´æ˜)
- [é…ç½®æµç¨‹](#é…ç½®æµç¨‹)
- [å„ç¯å¢ƒè¯¦ç»†é…ç½®](#å„ç¯å¢ƒè¯¦ç»†é…ç½®)
- [éªŒè¯æ£€æŸ¥](#éªŒè¯æ£€æŸ¥)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [å®‰å…¨æœ€ä½³å®è·µ](#å®‰å…¨æœ€ä½³å®è·µ)

---

## æ¦‚è¿°

YYCÂ³ AI Intelligent Calling ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†ä¸åŒç¯å¢ƒçš„é…ç½®ï¼ŒåŒ…æ‹¬å¼€å‘ã€æµ‹è¯•ã€é¢„å‘å¸ƒå’Œç”Ÿäº§ç¯å¢ƒã€‚æ‰€æœ‰æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†é’¥ã€å¯†ç ã€API Keyï¼‰éƒ½é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç åœ¨æºä»£ç ä¸­ã€‚

### ç¯å¢ƒé…ç½®æ–‡ä»¶å¯¹åº”å…³ç³»

```
å¼€å‘ç¯å¢ƒ (development)
â”œâ”€â”€ .env.local              # æœ¬åœ°å¼€å‘é…ç½®ï¼ˆGit å¿½ç•¥ï¼‰
â”œâ”€â”€ docker/.env.docker      # Docker å®¹å™¨é…ç½®
â””â”€â”€ .env.example            # é€šç”¨ç¤ºä¾‹ï¼ˆå¯æäº¤ï¼‰

æµ‹è¯•ç¯å¢ƒ (testing)
â”œâ”€â”€ .env.test               # æµ‹è¯•ç¯å¢ƒé…ç½®
â””â”€â”€ .env.test.local         # æœ¬åœ°æµ‹è¯•è¦†ç›–

é¢„å‘å¸ƒç¯å¢ƒ (staging)
â”œâ”€â”€ .env.staging            # é¢„å‘å¸ƒç¯å¢ƒé…ç½®
â””â”€â”€ docker/.env.staging     # Docker Staging é…ç½®

ç”Ÿäº§ç¯å¢ƒ (production)
â”œâ”€â”€ .env.production         # ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ˆä¸æäº¤ï¼‰
â”œâ”€â”€ .env.production.example # ç”Ÿäº§ç¯å¢ƒç¤ºä¾‹
â””â”€â”€ docker/.env.production  # Docker ç”Ÿäº§é…ç½®
```

---

## æ–‡ä»¶è¯´æ˜

### 1. `.env.example` - é€šç”¨ç¯å¢ƒå˜é‡ç¤ºä¾‹

**ç”¨é€”**ï¼šæäº¤åˆ° Gitï¼Œä½œä¸ºæ‰€æœ‰ç¯å¢ƒçš„å‚è€ƒæ¨¡æ¿

**åŒ…å«å†…å®¹**ï¼š

- 18 ä¸ªé…ç½®ç« èŠ‚
- è¶…è¿‡ 80 ä¸ªé…ç½®å˜é‡
- è¯¦ç»†çš„ä¸­è‹±æ–‡æ³¨é‡Šå’Œè¯´æ˜
- æ¨èçš„é»˜è®¤å€¼

**ç‰¹ç‚¹**ï¼š

- âœ… å¯ä»¥ç›´æ¥æäº¤åˆ° Git
- âœ… åŒ…å«æ‰€æœ‰å¯èƒ½çš„é…ç½®å˜é‡
- âœ… é€‚åˆæ–°å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹
- âœ… åŒ…å«å®Œæ•´çš„ä½¿ç”¨è¯´æ˜

**ä½¿ç”¨åœºæ™¯**ï¼š

- é¡¹ç›®åˆå§‹åŒ–
- å¼€å‘è€…å‚è€ƒ
- CI/CD æ–‡æ¡£
- éƒ¨ç½²æŒ‡å—

---

### 2. `.env.local.example` - æœ¬åœ°å¼€å‘é…ç½®ç¤ºä¾‹

**ç”¨é€”**ï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒçš„é…ç½®å‚è€ƒ

**åŒ…å«å†…å®¹**ï¼š

- Docker æœ¬åœ°æœåŠ¡é…ç½®
- æœ¬åœ°æ•°æ®åº“è¿æ¥
- vLLM æœ¬åœ° AI æœåŠ¡
- å¼€å‘å·¥å…·é…ç½®

**ç‰¹ç‚¹**ï¼š

- âœ… å®Œå…¨æœ¬åœ°åŒ–ï¼ˆlocalhostï¼‰
- âœ… ç®€åŒ–çš„é…ç½®é€‰é¡¹
- âœ… åŒ…å« Docker å¿«é€Ÿå¯åŠ¨æŒ‡å—
- âœ… æœ¬åœ°è™šæ‹Ÿé‚®ä»¶æœåŠ¡é…ç½®

**ä½¿ç”¨æµç¨‹**ï¼š

```bash
# 1. å¤åˆ¶æ–‡ä»¶
cp .env.local.example .env.local

# 2. ç¼–è¾‘é…ç½®ï¼ˆå¦‚éœ€è‡ªå®šä¹‰ï¼‰
vim .env.local

# 3. å¯åŠ¨ Docker å®¹å™¨
docker-compose up -d

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

---

### 3. `.env.production.example` - ç”Ÿäº§ç¯å¢ƒé…ç½®ç¤ºä¾‹

**ç”¨é€”**ï¼šç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‚è€ƒ

**åŒ…å«å†…å®¹**ï¼š

- ä¼ä¸šçº§æ•°æ®åº“é…ç½®
- SSL/TLS å®‰å…¨é…ç½®
- ç”Ÿäº§çº§ç›‘æ§å’Œæ—¥å¿—
- é«˜å¯ç”¨æ€§é…ç½®
- ç¾éš¾æ¢å¤é…ç½®

**ç‰¹ç‚¹**ï¼š

- âœ… ç”Ÿäº§ç¯å¢ƒå®‰å…¨æœ€ä½³å®è·µ
- âœ… åŒ…å«æ€§èƒ½ä¼˜åŒ–é…ç½®
- âœ… ç›‘æ§å’Œå‘Šè­¦é…ç½®
- âœ… DDoS é˜²æŠ¤å’Œé€Ÿç‡é™åˆ¶
- âœ… å®Œæ•´çš„å®‰å…¨æ£€æŸ¥æ¸…å•

**é‡è¦æ³¨æ„**ï¼š

- âš ï¸ ä¸è¦æäº¤ `.env.production` åˆ° Git
- âš ï¸ æ‰€æœ‰å¯†é’¥éœ€åœ¨å¯†é’¥ç®¡ç†æœåŠ¡ä¸­ç®¡ç†
- âš ï¸ éƒ¨ç½²å‰å¿…é¡»å®Œæˆæ‰€æœ‰å®‰å…¨æ£€æŸ¥

---

### 4. `docker/.env.docker.example` - Docker å®¹å™¨é…ç½®

**ç”¨é€”**ï¼šDocker Compose å®¹å™¨ç¯å¢ƒå˜é‡

**åŒ…å«å†…å®¹**ï¼š

- PostgreSQL å®¹å™¨é…ç½®
- Redis å®¹å™¨é…ç½®
- Nginx å®¹å™¨é…ç½®
- åº”ç”¨å®¹å™¨é…ç½®
- ç½‘ç»œå’Œå·é…ç½®
- æ—¥å¿—å’Œå¥åº·æ£€æŸ¥é…ç½®

**ç‰¹ç‚¹**ï¼š

- âœ… é’ˆå¯¹å®¹å™¨ä¼˜åŒ–
- âœ… æ•°æ®å·å’Œç½‘ç»œé…ç½®
- âœ… èµ„æºé™åˆ¶é…ç½®
- âœ… å¥åº·æ£€æŸ¥é…ç½®

---

## é…ç½®æµç¨‹

### å¼€å‘ç¯å¢ƒé…ç½®ï¼ˆ5 åˆ†é’Ÿï¼‰

#### æ­¥éª¤ 1ï¼šå¤åˆ¶é…ç½®æ–‡ä»¶

```bash
cd /Users/my/yyc3-ai-call

# å¤åˆ¶æœ¬åœ°å¼€å‘é…ç½®
cp .env.local.example .env.local

# å¤åˆ¶ Docker é…ç½®
cp docker/.env.docker.example docker/.env.docker
```

#### æ­¥éª¤ 2ï¼šç¼–è¾‘ `.env.local`

```bash
# ä½¿ç”¨ VSCode ç¼–è¾‘
code .env.local

# éœ€è¦ä¿®æ”¹çš„å…³é”®é¡¹ï¼š
# - DATABASE_URL: postgresql://yyc3_user:password@localhost:5432/yyc3_db
# - REDIS_URL: redis://localhost:6379
# - JWT_SECRET: ç”Ÿæˆæ–°çš„éšæœºå¯†é’¥
# - NEXTAUTH_SECRET: ç”Ÿæˆæ–°çš„éšæœºå¯†é’¥
# - AI_BASE_URL: æŒ‡å‘ä½ çš„ vLLM æœåŠ¡
```

#### æ­¥éª¤ 3ï¼šå¯åŠ¨ Docker ç¯å¢ƒ

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# éªŒè¯æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f postgres
docker-compose logs -f redis
```

#### æ­¥éª¤ 4ï¼šåˆå§‹åŒ–æ•°æ®åº“

```bash
# è¿è¡Œåˆå§‹åŒ–è„šæœ¬
bash scripts/init-db.sh

# æˆ–æ‰‹åŠ¨åˆå§‹åŒ–
psql -U yyc3_user -h localhost -d yyc3_db -f scripts/init.sql
```

#### æ­¥éª¤ 5ï¼šå¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# æ¸…é™¤ç¼“å­˜
rm -rf .next

# å®‰è£…ä¾èµ–ï¼ˆå¦‚éœ€è¦ï¼‰
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# è®¿é—®åº”ç”¨
# http://localhost:3000
```

---

### ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ˆ30 åˆ†é’Ÿï¼‰

#### æ­¥éª¤ 1ï¼šä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡

**AWS Secrets Manager**ï¼š

```bash
# åˆ›å»ºå¯†é’¥
aws secretsmanager create-secret \
  --name yyc3/production/db \
  --secret-string '{
    "username": "prod_user",
    "password": "strong-random-password",
    "host": "db.example.com",
    "port": 5432,
    "dbname": "yyc3_production"
  }'

# æ£€ç´¢å¯†é’¥
aws secretsmanager get-secret-value \
  --secret-id yyc3/production/db
```

**Azure Key Vault**ï¼š

```bash
# åˆ›å»ºå¯†é’¥
az keyvault secret set \
  --vault-name yyc3-vault \
  --name DatabasePassword \
  --value "strong-random-password"

# æ£€ç´¢å¯†é’¥
az keyvault secret show \
  --vault-name yyc3-vault \
  --name DatabasePassword
```

#### æ­¥éª¤ 2ï¼šç”Ÿæˆå¼ºå¯†é’¥

```bash
# JWT Secretï¼ˆ32 å­—èŠ‚ Base64ï¼‰
JWT_SECRET=$(openssl rand -base64 32)
echo "JWT_SECRET=$JWT_SECRET"

# NextAuth Secretï¼ˆ32 å­—èŠ‚ Base64ï¼‰
NEXTAUTH_SECRET=$(openssl rand -base64 32)
echo "NEXTAUTH_SECRET=$NEXTAUTH_SECRET"

# æ•°æ®åº“å¯†ç ï¼ˆ16 å­—ç¬¦ï¼‰
DB_PASSWORD=$(openssl rand -base64 12)
echo "DB_PASSWORD=$DB_PASSWORD"

# Redis å¯†ç ï¼ˆ16 å­—ç¬¦ï¼‰
REDIS_PASSWORD=$(openssl rand -base64 12)
echo "REDIS_PASSWORD=$REDIS_PASSWORD"
```

#### æ­¥éª¤ 3ï¼šé…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¤ºä¾‹é…ç½®
cp .env.production.example .env.production

# ç¼–è¾‘ç”Ÿäº§é…ç½®
vim .env.production

# æ›¿æ¢æ‰€æœ‰å ä½ç¬¦ï¼š
# REPLACE_WITH_PRODUCTION_JWT_SECRET â†’ å®é™…çš„ JWT Secret
# REPLACE_WITH_PRODUCTION_ZHIPU_API_KEY â†’ å®é™…çš„ API Key
# REPLACE_WITH_STRONG_PASSWORD â†’ å®é™…çš„å¼ºå¯†ç 
# ç­‰ç­‰...
```

#### æ­¥éª¤ 4ï¼šéªŒè¯é…ç½®

```bash
# è¿è¡Œé…ç½®æ£€æŸ¥è„šæœ¬
bash scripts/validate-env.sh

# æˆ–æ‰‹åŠ¨éªŒè¯å…³é”®é¡¹
echo $DATABASE_URL
echo $REDIS_URL
echo $JWT_SECRET
```

#### æ­¥éª¤ 5ï¼šéƒ¨ç½²åº”ç”¨

```bash
# æ„å»ºç”Ÿäº§é•œåƒ
docker build -t yyc3:1.0.0 .

# æ¨é€åˆ°ä»“åº“
docker push registry.example.com/yyc3:1.0.0

# éƒ¨ç½²åˆ° Kubernetesï¼ˆç¤ºä¾‹ï¼‰
kubectl set env deployment/yyc3 -e DEPLOYMENT_VERSION=1.0.0

# æˆ–ä½¿ç”¨ Docker Compose éƒ¨ç½²
docker-compose -f docker-compose.prod.yml up -d
```

---

## å„ç¯å¢ƒè¯¦ç»†é…ç½®

### 1. æ•°æ®åº“é…ç½®

#### å¼€å‘ç¯å¢ƒ

```dotenv
DATABASE_URL=postgresql://yyc3_user:dev_password@localhost:5432/yyc3_db
DATABASE_POOL_SIZE=5
DATABASE_CONNECTION_TIMEOUT=10
```

#### ç”Ÿäº§ç¯å¢ƒ

```dotenv
DATABASE_URL=postgresql://prod_user:strong_password@prod-db.example.com:5432/yyc3_production?sslmode=require
DATABASE_POOL_SIZE=30
DATABASE_CONNECTION_TIMEOUT=30
```

### 2. AI æœåŠ¡é…ç½®

#### æœ¬åœ°å¼€å‘ï¼ˆvLLMï¼‰

```dotenv
AI_BASE_URL=http://127.0.0.1:10086/v1
AI_MODEL=chatglm3-6b
AI_TIMEOUT_MS=20000
AI_MAX_TOKENS=1024
AI_TEMPERATURE=0.6
```

#### ç”Ÿäº§ç¯å¢ƒï¼ˆå®˜æ–¹ APIï¼‰

```dotenv
AI_BASE_URL=https://api.zhipuai.cn/v1
AI_MODEL=glm-4
AI_TIMEOUT_MS=30000
AI_MAX_TOKENS=2048
AI_TEMPERATURE=0.3
ZHIPU_API_KEY=your-production-api-key
```

### 3. ç¼“å­˜é…ç½®

#### å¼€å‘ç¯å¢ƒï¼ˆæœ¬åœ° Redisï¼‰

```dotenv
REDIS_URL=redis://localhost:6379
REDIS_DB=0
REDIS_TIMEOUT_MS=5000
REDIS_CACHE_TTL=3600
```

#### ç”Ÿäº§ç¯å¢ƒï¼ˆRedis Clusterï¼‰

```dotenv
REDIS_URL=redis://:strong_password@redis-1.example.com:6379/0
REDIS_DB=0
REDIS_TIMEOUT_MS=10000
REDIS_CACHE_TTL=86400
REDIS_CLUSTER_ENABLED=true
```

### 4. æ–‡ä»¶å­˜å‚¨é…ç½®

#### å¼€å‘ç¯å¢ƒï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰

```dotenv
STORAGE_TYPE=local
STORAGE_LOCAL_PATH=./uploads
MAX_FILE_SIZE=52428800
```

#### ç”Ÿäº§ç¯å¢ƒï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰

```dotenv
STORAGE_TYPE=s3
S3_ENDPOINT=https://oss-cn-beijing.aliyuncs.com
S3_BUCKET=yyc3-production-files
S3_ACCESS_KEY=your-access-key
S3_SECRET_KEY=your-secret-key
MAX_FILE_SIZE=104857600
```

---

## éªŒè¯æ£€æŸ¥

### å¼€å‘ç¯å¢ƒæ£€æŸ¥æ¸…å•

```bash
# âœ… æ£€æŸ¥ .env.local å­˜åœ¨
[ -f .env.local ] && echo "âœ“ .env.local exists" || echo "âœ— .env.local missing"

# âœ… æ£€æŸ¥ Docker å®¹å™¨è¿è¡Œ
docker-compose ps | grep -E "postgres|redis|nginx"

# âœ… æ£€æŸ¥æ•°æ®åº“è¿æ¥
psql $DATABASE_URL -c "SELECT 1"

# âœ… æ£€æŸ¥ Redis è¿æ¥
redis-cli -u $REDIS_URL ping

# âœ… æ£€æŸ¥ AI æœåŠ¡
curl http://127.0.0.1:10086/v1/models

# âœ… æ£€æŸ¥åº”ç”¨å¯åŠ¨
curl http://localhost:3000/api/health
```

### ç”Ÿäº§ç¯å¢ƒæ£€æŸ¥æ¸…å•

```bash
# âœ… æ‰€æœ‰ REPLACE_WITH_* å·²æ›¿æ¢
! grep -r "REPLACE_WITH_" .env.production

# âœ… å¯†é’¥å¼ºåº¦æ£€æŸ¥
[ ${#JWT_SECRET} -ge 32 ] && echo "âœ“ Strong JWT_SECRET"
[ ${#NEXTAUTH_SECRET} -ge 32 ] && echo "âœ“ Strong NEXTAUTH_SECRET"

# âœ… SSL è¿æ¥æ£€æŸ¥
echo $DATABASE_URL | grep -q "sslmode=require" && echo "âœ“ Database SSL enabled"

# âœ… ç›‘æ§é…ç½®æ£€æŸ¥
[ -n "$SENTRY_DSN" ] && echo "âœ“ Sentry configured"
[ -n "$SLACK_WEBHOOK_URL" ] && echo "âœ“ Slack configured"

# âœ… æ—¥å¿—çº§åˆ«æ£€æŸ¥
echo $LOG_LEVEL | grep -q "info\|warn\|error" && echo "âœ“ Appropriate log level"

# âœ… å®‰å…¨ Cookie æ£€æŸ¥
[ "$COOKIE_SECURE" == "true" ] && echo "âœ“ Secure cookies enabled"
```

---

## å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•å¿«é€Ÿé…ç½®æœ¬åœ°å¼€å‘ç¯å¢ƒï¼Ÿ

A: 3 ä¸ªå‘½ä»¤æå®šï¼š

```bash
cp .env.local.example .env.local
docker-compose up -d
pnpm dev
```

### Q2: ç”Ÿäº§ç¯å¢ƒå¯†é’¥åº”è¯¥å¦‚ä½•ç®¡ç†ï¼Ÿ

A: ä¸è¦åœ¨ Git ä¸­å­˜å‚¨æ•æ„Ÿä¿¡æ¯ï¼š

1. **ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡**ï¼šAWS Secrets Managerã€Azure Key Vault
2. **ä½¿ç”¨éƒ¨ç½²å¹³å°å†…ç½®åŠŸèƒ½**ï¼šVercelã€Heroku çš„ env vars
3. **ä½¿ç”¨å¯†é’¥æ–‡ä»¶**ï¼šåœ¨éƒ¨ç½²æ—¶ä»å®‰å…¨ä½ç½®è¯»å–
4. **ç¯å¢ƒå˜é‡æ³¨å…¥**ï¼šCI/CD æµç¨‹ä¸­æ³¨å…¥æ•æ„Ÿå€¼

### Q3: å¦‚ä½•åœ¨ä¸åŒç¯å¢ƒé—´åˆ‡æ¢ï¼Ÿ

A: ä½¿ç”¨ä¸åŒçš„ env æ–‡ä»¶ï¼š

```bash
# å¼€å‘ç¯å¢ƒ
export $(cat .env.local | xargs)

# ç”Ÿäº§ç¯å¢ƒ
export $(cat .env.production | xargs)

# éªŒè¯
echo $NODE_ENV
```

### Q4: Docker å®¹å™¨ä¸­å¦‚ä½•ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Ÿ

A: å¤šç§æ–¹å¼ï¼š

```bash
# æ–¹å¼ 1ï¼š--env-file å‚æ•°
docker-compose --env-file docker/.env.docker up -d

# æ–¹å¼ 2ï¼šdocker-compose.yml ä¸­å¼•ç”¨
services:
  app:
    environment:
      - NODE_ENV=${NODE_ENV}
      - DATABASE_URL=${DATABASE_URL}

# æ–¹å¼ 3ï¼š.env æ–‡ä»¶åœ¨ docker-compose.yml åŒç›®å½•
```

### Q5: å¦‚ä½•éªŒè¯ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®åŠ è½½ï¼Ÿ

A: ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š

```bash
# Node.js ä¸­æ£€æŸ¥
node -e "console.log(process.env.DATABASE_URL)"

# Shell ä¸­æ£€æŸ¥
echo $DATABASE_URL

# åº”ç”¨å¥åº·æ£€æŸ¥
curl http://localhost:3000/api/health
```

---

## å®‰å…¨æœ€ä½³å®è·µ

### âœ… å¿…é¡»åšçš„

1. **ä½¿ç”¨å¼ºå¯†é’¥**

   ```bash
   # 32 å­—èŠ‚çš„éšæœºå¯†é’¥
   openssl rand -base64 32
   ```

2. **ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡**

   - AWS Secrets Manager
   - Azure Key Vault
   - HashiCorp Vault

3. **ä½¿ç”¨ SSL/TLS è¿æ¥**

   ```dotenv
   DATABASE_URL=postgresql://...?sslmode=require
   ```

4. **å®šæœŸè½®æ¢å¯†é’¥**

   - æ¯ 90 å¤©è½®æ¢ä¸€æ¬¡
   - ç«‹å³è½®æ¢å¦‚æœæ³„éœ²

5. **é™åˆ¶ç¯å¢ƒå˜é‡è®¿é—®**

   - æœ€å°æƒé™åŸåˆ™
   - åªæˆæƒå¿…è¦çš„äººå‘˜

6. **å¯ç”¨å®¡è®¡æ—¥å¿—**
   - è®°å½•è°è®¿é—®äº†å“ªäº›å¯†é’¥
   - ä»€ä¹ˆæ—¶å€™è®¿é—®

### âŒ ç¦æ­¢åšçš„

1. âŒ åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥
2. âŒ åœ¨ Git ä¸­æäº¤ `.env.production`
3. âŒ åœ¨æ—¥å¿—ä¸­è¾“å‡ºæ•æ„Ÿä¿¡æ¯
4. âŒ åœ¨ GitHub Issues ä¸­åˆ†äº«å¯†é’¥
5. âŒ ä½¿ç”¨å¼±å¯†ç æˆ–ç®€å•å¯†é’¥
6. âŒ è·¨ç¯å¢ƒå…±äº«å¯†é’¥
7. âŒ åœ¨æœªåŠ å¯†é€šé“ä¸­ä¼ è¾“å¯†é’¥

### ğŸ” åŠ å¯†ç®¡ç†

```bash
# åˆ›å»ºåŠ å¯†çš„ .env æ–‡ä»¶
gpg --symmetric .env.production
# è¾“å…¥å¯†ç è¿›è¡ŒåŠ å¯†

# ä½¿ç”¨åŠ å¯†çš„æ–‡ä»¶
gpg --decrypt .env.production.gpg > .env.production

# æ¸…ç†æ˜æ–‡å‰¯æœ¬
shred -u .env.production
```

---

## å‚è€ƒèµ„æº

- [Next.js ç¯å¢ƒå˜é‡æ–‡æ¡£](https://nextjs.org/docs/basic-features/environment-variables)
- [Node.js å®‰å…¨æœ€ä½³å®è·µ](https://nodejs.org/en/docs/guides/security/)
- [AWS Secrets Manager](https://aws.amazon.com/cn/secrets-manager/)
- [Azure Key Vault](https://learn.microsoft.com/en-us/azure/key-vault/)
- [OWASP å¯†é’¥ç®¡ç†](https://cheatsheetseries.owasp.org/cheatsheets/Secrets_Management_Cheat_Sheet.html)

---

**æœ€åæ›´æ–°**: 2026-01-23  
**ç»´æŠ¤è€…**: YYCÂ³ Team
